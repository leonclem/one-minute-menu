id: classic-cards-v2
version: "2.0.0"
name: Classic Cards V2

page:
  size: A4_PORTRAIT
  margins:
    top: 22.68    # ~8mm in points (reduced by 60%)
    right: 25.51  # ~9mm (reduced by 40%)
    bottom: 22.68
    left: 25.51

regions:
  header:
    height: 60
  title:
    height: 32
  footer:
    height: 45

body:
  container:
    type: GRID
    cols: 4
    rowHeight: 70      # Base row height - ITEM_TEXT_ROW fits in 1 row
    gapX: 8
    gapY: 8

tiles:
  LOGO:
    region: header
    contentBudget:
      nameLines: 0
      descLines: 0
      indicatorAreaHeight: 0
      imageBoxHeight: 50
      paddingTop: 5
      paddingBottom: 5
      totalHeight: 60

  TITLE:
    region: title
    contentBudget:
      nameLines: 1
      descLines: 0
      indicatorAreaHeight: 0
      imageBoxHeight: 0
      paddingTop: 4
      paddingBottom: 4
      totalHeight: 32

  SECTION_HEADER:
    region: body
    colSpan: 4
    style:
      typography:
        fontSet: "elegant-serif"
        fontSize: "xl"
        fontWeight: "semibold"
        textAlign: "left"
        lineHeight: "normal"
        color: "#696969"
      spacing:
        paddingLeft: 8
        paddingTop: 0
        paddingBottom: 0
      border:
        width: 0.5
        color: "#696969"
        style: "solid"
        sides: ["bottom"]
    contentBudget:
      nameLines: 1
      descLines: 0
      indicatorAreaHeight: 0
      imageBoxHeight: 0
      paddingTop: 8
      paddingBottom: 4
      totalHeight: 24

  # DESIGN DECISION (Issue #5): ITEM_CARD uses rowSpan: 2, ITEM_TEXT_ROW uses rowSpan: 1
  # 
  # The grid rowHeight is 70pt (matching ITEM_TEXT_ROW).
  # ITEM_CARD needs ~140pt total, so it spans 2 rows.
  # Height formula: rowSpan * rowHeight + (rowSpan - 1) * gapY
  #   = 2 * 70 + 1 * 8 = 148pt actual height
  # 
  # This keeps the grid math clean:
  #   - Text-only mode: all items use 1 row (70pt)
  #   - Card mode: all items use 2 rows (148pt with gap)
  #   - No sparse layouts or wasted space
  ITEM_CARD:
    region: body
    rowSpan: 2         # 2 rows = 148pt (2Ã—70 + 1Ã—8 gap)
    contentBudget:
      nameLines: 2
      descLines: 2
      indicatorAreaHeight: 16
      imageBoxHeight: 70
      paddingTop: 8
      paddingBottom: 8
      totalHeight: 148   # Must match: rowSpan * rowHeight + (rowSpan-1) * gapY

  ITEM_TEXT_ROW:
    region: body
    rowSpan: 1         # 1 row Ã— 70pt = 70pt total
    contentBudget:
      nameLines: 2
      descLines: 2
      indicatorAreaHeight: 16
      imageBoxHeight: 0
      paddingTop: 8
      paddingBottom: 8
      totalHeight: 70

  # FEATURE_CARD: multi-cell tile for featured menu items
  # Spans 2 columns and 3 rows for visual prominence.
  # Height formula: 3 * 70 + 2 * 8 = 226pt
  FEATURE_CARD:
    region: body
    colSpan: 2
    rowSpan: 3
    contentBudget:
      nameLines: 2
      descLines: 3
      indicatorAreaHeight: 20
      imageBoxHeight: 100
      paddingTop: 10
      paddingBottom: 10
      totalHeight: 226

  # DECORATIVE_DIVIDER: full-width divider between sections
  # Height formula: 1 * 70 + 0 * 8 = 70pt
  DECORATIVE_DIVIDER:
    region: body
    colSpan: 4
    rowSpan: 1
    contentBudget:
      nameLines: 0
      descLines: 0
      indicatorAreaHeight: 0
      imageBoxHeight: 0
      paddingTop: 4
      paddingBottom: 4
      totalHeight: 70

dividers:
  enabled: false
  style: ornament
  height: 24

policies:
  lastRowBalancing: CENTER
  showLogoOnPages: [FIRST, CONTINUATION, FINAL, SINGLE]
  repeatSectionHeaderOnContinuation: true
  sectionHeaderKeepWithNextItems: 1
  maxFeaturedPerSection: 1

filler:
  enabled: false
  safeZones:
    - startRow: 0
      endRow: LAST_CONTENT
      startCol: 0
      endCol: 3
  tiles:
    - id: filler-icon-1
      style: icon
      content: utensils
      rowSpan: 2
    - id: filler-icon-2
      style: icon
      content: coffee
      rowSpan: 2
  policy: SEQUENTIAL

itemIndicators:
  mode: INLINE
  maxCount: 3
  style:
    badgeSize: 14
    iconSet: emoji
  spiceScale:
    1: "ðŸŒ¶"
    2: "ðŸŒ¶ðŸŒ¶"
    3: "ðŸŒ¶ðŸŒ¶ðŸŒ¶"
  letterFallback:
    vegetarian: "V"
    vegan: "VG"
    halal: "H"
    kosher: "K"
    gluten-free: "GF"
